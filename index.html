<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>ATS Resume Maze — Reflective Build</title>

<style>
:root{
  --bg:#f3f3f3;
  --paper:#fff;
  --ink:#111;
  --ui:#ddd;
  --nav:#1D3461;
  --yellow:#ffe86a;
  --tealbg:#F0FAFB;
  --teal:#0A6E6E;
  --red:#ff6b6b;
}
body{ margin:0; background:var(--bg); font-family:Georgia, serif; color:var(--ink); }

.rail{
  position:fixed; left:0; top:0;
  width:340px; height:100vh;
  background:var(--nav); color:#fff;
  padding:16px; box-sizing:border-box;
  overflow:auto;
}

.stat{ margin:8px 0; font-family:Arial; }

button{
  cursor:pointer; border:none;
  padding:10px 12px;
  font-weight:bold; border-radius:6px;
  background:#FFFBF0; color:var(--nav);
}

#pathBox{ margin-top:12px; font-family:Arial; font-size:.85rem; }
#pathBox code{
  display:block; background:rgba(255,255,255,.12);
  padding:8px; border-radius:6px; margin-top:6px;
  word-break:break-word;
}

#reflectionBox{
  margin-top:20px;
  padding:12px;
  background:rgba(255,255,255,.1);
  border-radius:8px;
  font-size:.9rem;
  line-height:1.4;
  display:none;
}

.page{ margin-left:340px; padding:30px 20px; }

.resume{
  max-width:980px; margin:0 auto;
  background:var(--paper);
  padding:46px 64px;
  box-shadow:0 2px 14px rgba(0,0,0,.08);
}

.section{ margin-top:22px; }

.section-title{
  font-weight:bold;
  border-bottom:1px solid #000;
  padding-bottom:4px;
  margin-bottom:10px;
}

.node{
  display:block;
  padding:10px 12px;
  margin-bottom:8px;
  border-radius:6px;
  background:#fafafa;
  cursor:pointer;
  transition:.15s ease;
}

.node.disabled{ pointer-events:none; opacity:.4; }
.node.available{ outline:2px solid rgba(10,110,110,.35); }
.node.visited{ background:var(--yellow); }
.node.current{ background:var(--tealbg); outline:2px solid var(--teal); }
.node.bad{ background:var(--red)!important; color:#fff; }

.detour{
  font-size:.85rem;
  background:#f2f2f2;
  border:1px solid #e3e3e3;
  padding:6px 10px;
  border-radius:999px;
  display:inline-block;
  margin:4px 6px 4px 0;
}

.exp-grid{
  margin-top:10px;
  padding:12px;
  border:1px solid var(--ui);
  border-radius:8px;
  background:#fafafa;
}
</style>
</head>
<body>

<div class="rail">
  <h2>ATS Resume Maze</h2>
  <div class="stat"><strong>Moves:</strong> <span id="moveCount">0</span></div>
  <div class="stat"><strong>Score:</strong> <span id="score">100</span></div>
  <button id="resetBtn">Reset Run</button>

  <div id="pathBox">
    <strong>Path:</strong>
    <code id="pathText">header</code>
  </div>

  <div id="reflectionBox"></div>
</div>

<div class="page">
<div class="resume">

<div class="section">
<div class="section-title">HEADER</div>
<div id="headerLine"></div>
</div>

<div class="section">
<div class="section-title">SUMMARY</div>
<div id="summaryLine"></div>
</div>

<div class="section">
<div class="section-title">SKILLS</div>
<div id="skillsLine"></div>
</div>

<div class="section">
<div class="section-title">PROFESSIONAL EXPERIENCE</div>
<div id="expBackbone"></div>

<div class="exp-grid">
<strong>Drafting Risks</strong>
<div id="expDetours"></div>
</div>
</div>

<div class="section">
<div class="section-title">PROJECTS</div>
<div id="projectsLine"></div>
</div>

<div class="section">
<div class="section-title">CERTIFICATIONS</div>
<div id="certsLine"></div>
</div>

<div class="section">
<div class="section-title">EDUCATION</div>
<div id="educationLine"></div>
</div>

</div>
</div>

<script>

/* ---------- Robust Career Content ---------- */

const resumeContent = {
header:"Jordan Avery • Springfield, MA • jordan@example.com",

summary:"Strategic professional with progressive experience across analytics, marketing, and operations environments.",

skills:"SQL | Tableau | SEO | GA4 | Process Optimization | Stakeholder Communication",

roles:
`Senior Data Analyst — Meridian Insights (2021–Present)
• Led cross-functional analytics initiatives supporting national campaigns.
• Analyzed multi-channel data to inform executive decisions.

Marketing Coordinator — BrightWave Agency (2018–2021)
• Managed digital campaigns across email and social platforms.
• Coordinated content calendar and performance reporting.

Operations Intern — Northstar Logistics (2017–2018)
• Supported supply chain reporting.
• Assisted with workflow optimization initiatives.`,

verbsStrong:"Led, analyzed, optimized, coordinated, implemented.",
verbsWeak:"Helped, responsible for, assisted with, worked on.",

metricsStrong:"Increased ROI 18%; boosted engagement 35%; reduced fulfillment time 22%.",
metricsWeak:"Improved performance significantly.",

keywordsStrong:"Integrated SQL, Tableau, GA4, and SEO terminology aligned with job descriptions.",
keywordsWeak:"Included many industry buzzwords.",

formatStrong:"Consistent dates, aligned bullets, no tables, standard section headers.",
formatWeak:"Mixed dash styles — inconsistent spacing — uneven bullet formatting."
};

/* ---------- Engine ---------- */

let nodes={}, graph={}, detours=[];

function addNode(id,label,tag=""){
  nodes[id]={id,label,tag,el:null};
  graph[id]=[];
}

function connect(a,b){
  if(!graph[a].includes(b))graph[a].push(b);
  if(!graph[b].includes(a))graph[b].push(a);
}

function buildGraph(){
nodes={}; graph={}; detours=[];

addNode("header",resumeContent.header);
addNode("summary",resumeContent.summary);
addNode("skills",resumeContent.skills);
addNode("projects","Interactive ATS Resume Maze Project");
addNode("certifications","Google Analytics Certified");
addNode("education","B.A., Communication Studies — UMass");

connect("header","summary");
connect("summary","skills");

addNode("exp_entry","Enter Experience");
addNode("exp_exit","Exit Experience");
connect("skills","exp_entry");

addNode("exp_role",resumeContent.roles);
addNode("exp_verbs","Strong verbs: " + resumeContent.verbsStrong + " | Weak contrast: " + resumeContent.verbsWeak);
addNode("exp_metrics","Quantified: " + resumeContent.metricsStrong + " | Vague contrast: " + resumeContent.metricsWeak);
addNode("exp_keywords","Aligned: " + resumeContent.keywordsStrong + " | Contrast: " + resumeContent.keywordsWeak);
addNode("exp_format","Clean: " + resumeContent.formatStrong + " | Contrast: " + resumeContent.formatWeak);

connect("exp_entry","exp_role");
connect("exp_role","exp_metrics");
connect("exp_metrics","exp_verbs");
connect("exp_verbs","exp_keywords");
connect("exp_keywords","exp_format");
connect("exp_role","exp_keywords");
connect("exp_format","exp_verbs");
connect("exp_verbs","exp_metrics");
connect("exp_format","exp_exit");

connect("exp_exit","projects");
connect("projects","certifications");
connect("certifications","education");

/* traps */
const traps=[
["weak_verbs","Weak verbs"],
["no_metrics","No metrics"],
["tables_layout","Tables/columns"],
["keyword_dump","Keyword dumping"]
];

let count=0;
for(let anchor of ["exp_role","exp_verbs","exp_metrics","exp_keywords"]){
if(Math.random()<0.7){
count++;
let t=traps[Math.floor(Math.random()*traps.length)];
let id="exp_s"+count;
addNode(id,t[1],"trap:"+t[0]);
detours.push(id);
connect(anchor,id);
connect(id,"exp_format");
connect(id,"exp_keywords");
}
}
}

function newState(){
return{
current:"header",
visited:new Set(["header"]),
moves:0,
trapTypes:new Set(),
path:["header"]
};
}

let state;

function makeNode(id){
let el=document.createElement("div");
el.className="node";
el.textContent=nodes[id].label;
el.onclick=()=>move(id);
nodes[id].el=el;
return el;
}

function render(){
for(let id in nodes){
let el=nodes[id].el;
if(!el)continue;
el.className="node disabled";
}

state.visited.forEach(id=>{
nodes[id].el.classList.add("visited","disabled");
});

let cur=nodes[state.current].el;
cur.classList.add("current","visited","disabled");

graph[state.current].forEach(id=>{
nodes[id].el.classList.remove("disabled");
nodes[id].el.classList.add("available");
});

let baseScore = 100 - state.moves - (state.trapTypes.size * 8);
if (state.visited.has("exp_metrics")) baseScore += 5;

document.getElementById("moveCount").textContent=state.moves;
document.getElementById("score").textContent=Math.max(0,baseScore);
document.getElementById("pathText").textContent=state.path.join(" → ");

if(state.current==="education"){
generateReflection();
}
}

function flash(id){
let el=nodes[id].el;
el.classList.add("bad");
setTimeout(()=>{el.classList.remove("bad");},350);
}

function move(id){
if(!graph[state.current].includes(id))return;

state.moves++;
state.current=id;
state.visited.add(id);
state.path.push(id);

if(nodes[id].tag?.startsWith("trap:")){
state.trapTypes.add(nodes[id].tag);
render();
flash(id);
}else{
render();
}
}

function generateReflection(){
let box=document.getElementById("reflectionBox");
box.style.display="block";

let sequence = state.path.join(" → ");
let reflection = "<strong>Reflective Analysis</strong><br><br>";

if(state.path.indexOf("exp_metrics") < state.path.indexOf("exp_verbs")){
reflection += "You foregrounded measurable impact early in your drafting sequence. This suggests an outcomes-first mindset aligned with data-driven hiring contexts.<br><br>";
}else{
reflection += "You emphasized descriptive clarity before quantification. Consider how earlier metrics might influence recruiter scanning behavior.<br><br>";
}

if(state.trapTypes.size > 0){
reflection += "You encountered drafting risks related to " + Array.from(state.trapTypes).map(t=>t.replace("trap:","")).join(", ") + ". Reflect on how these rhetorical missteps affect readability and ATS parsing.<br><br>";
}else{
reflection += "You avoided common drafting traps, demonstrating strong rhetorical control over structure and clarity.<br><br>";
}

reflection += "Your full path:<br>" + sequence;

box.innerHTML = reflection;
}

function buildResume(){
for(let key of ["headerLine","summaryLine","skillsLine","projectsLine","certsLine","educationLine","expBackbone","expDetours"]){
document.getElementById(key).innerHTML="";
}

document.getElementById("headerLine").append(makeNode("header"));
document.getElementById("summaryLine").append(makeNode("summary"));
document.getElementById("skillsLine").append(makeNode("skills"));

let exp=document.getElementById("expBackbone");
["exp_entry","exp_role","exp_verbs","exp_metrics","exp_keywords","exp_format","exp_exit"]
.forEach(id=>exp.append(makeNode(id)));

let d=document.getElementById("expDetours");
detours.forEach(id=>{
let el=makeNode(id);
el.classList.add("detour");
d.append(el);
});

document.getElementById("projectsLine").append(makeNode("projects"));
document.getElementById("certsLine").append(makeNode("certifications"));
document.getElementById("educationLine").append(makeNode("education"));
}

function reset(){
document.getElementById("reflectionBox").style.display="none";
buildGraph();
buildResume();
state=newState();
render();
}

document.getElementById("resetBtn").onclick=reset;

reset();
</script>
</body>
</html>
